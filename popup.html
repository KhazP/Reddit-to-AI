<!DOCTYPE html>
<html>
<head>
  <title>Reddit to AI</title>
  <link rel="stylesheet" type="text/css" href="popup.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <span class="logo-reddit">Reddit</span><span class="logo-aitools"> to AI</span>
      </div>
      <div class="status-container">
        <span class="status-label">Status:</span>
        <span id="statusIndicator" class="status-indicator active">Active</span>
      </div>
    </header>

    <div class="controls-section">
      <!-- Simplified Scraping Controls -->
      <div class="control-group">
        <label for="includeHiddenToggle" class="checkbox-label">
          <input type="checkbox" id="includeHiddenToggle" name="includeHiddenToggle" class="checkbox-input">
          Include hidden/spam comments
        </label>
      </div>
      <div class="form-group">
        <input type="checkbox" id="includeHidden" name="includeHidden">
        <label for="includeHidden" title="Scrape comments that are hidden by default">Include Collapsed Comments</label>
      </div>
      
      <!-- Placeholder for AI Platform Controls if needed in future -->
      <!-- <div class="control-group">
        <h4>AI Platform</h4>
        <select id="aiPlatformSelect">
          <option value="gemini">Gemini</option>
          <option value="chatgpt">ChatGPT</option>
        </select>
      </div> -->
    </div>

    <div class="status-display-section">
      <div id="statusDisplay" class="status-text"></div>
      <div id="progressBarContainer" class="progress-bar-container">
        <div id="progressBar" class="progress-bar"></div>
      </div>
      <div id="resultsArea" style="margin-top: 12px;">
          <div id="summaryDisplayPopup" style="display: none;">
              <h4>Summary:</h4>
              <pre id="summaryTextPopup" class="popup-text-display"></pre>
          </div>
          <div id="errorDisplayPopup" style="display: none;">
              <h4>Error:</h4>
              <pre id="errorTextPopup" class="popup-text-display popup-error-text"></pre>
          </div>
      </div>
    </div>

    <div class="action-buttons-section">
      <button id="scrapeBtn" class="button primary">Scrape and Send</button>
      <button id="stopScrapeBtn" class="button danger" style="display: none;">Stop Scraping</button>
      <button id="optionsBtn" class="button secondary">Options</button>
    </div>
  </div>
  <!-- Options view remains hidden and managed by JS if needed, or could be a separate page -->
  <!-- <div id="optionsView" style="display: none;"></div> -->
  <style>
    .popup-text-display {
        white-space: pre-wrap;
        word-wrap: break-word;
        background-color: #f0f0f0;
        border: 1px solid #ddd;
        padding: 8px;
        max-height: 150px; /* Adjust as needed */
        overflow-y: auto;
        font-size: 0.9em;
    }
    .popup-error-text {
        background-color: #ffebee; /* Light red background for errors */
        border-color: #ffcdd2;
        color: #c62828; /* Darker red text */
    }
  </style>
  <script src="popup.js"></script>
</body>
</html>
